# Задача об изоляции вируса
## Описание задачи
В сети коридоров находится вирус, который пытается достичь одного из шлюзов для выхода из системы. Ваша задача — изолировать вирус, отключая шлюзы от коридоров до того, как он достигнет хотя бы одного из них.

### Структура сети

```
a---b---c---d
    |   |   |
    A   B   C
```

### Узлы сети:

Обычные узлы (маленькие буквы: a, b, c, d, ...)
Шлюзы (большие буквы: A, B, C, D, ...)
Коридоры: двунаправленные соединения между узлами.

Стартовая позиция вируса: узел a.

### Механика перемещения вируса
Вирус каждый ход перемещается на один узел ближе к целевому шлюзу по следующим правилам:

1. Выбор целевого шлюза

```
        D
        |
a---b---c---d---A
        |
        B   
```

Вирус выбирает ближайший шлюз по количеству коридоров до него. При наличии нескольких шлюзов на одинаковом расстоянии выбирается лексикографически наименьший: A < B < C < ...

Пример: расстояние до B равно 3, до D равно 3 → выбирается B.

2. Выбор следующего узла

```
    a
   / \
  b   c
   \ /
    D
```

Если к выбранному шлюзу ведёт несколько путей одинаковой длины, вирус делает шаг в лексикографически наименьший узел.

Пример: из узла a можно пройти в b или c, оба на оптимальном пути к шлюзу D → выбирается b (т.к. b < c).

3. Условие достижения

Если вирус находится в узле, напрямую соединённом со шлюзом, на следующем ходу он достигнет шлюза.

```
    a
   / \
  A   B
```

Отключаем шлюз A (A-a), вирус перемещается в B.

## Механика отключения
Ваши действия:

Каждый ход вы отключаете один коридор между шлюзом и обычным узлом.

### Ограничения:

Можно отключать только коридоры, инцидентные шлюзам (формат: Шлюз-узел)
Нельзя отключать коридоры между обычными узлами
Коридоры существуют между узлами либо между узлами и шлюзами (шлюзы между собой не соединены)
Порядок хода:

1. Вы отключаете коридор
2. Вирус перемещается
Требование детерминированности:

Если на некотором шаге существует несколько корректных порядков отключения (вирус не достигает цели), необходимо выбирать лексикографически наименьший коридор в формате Шлюз-узел.

Лексикографический порядок: сначала по шлюзу (A < B), затем по узлу (d < e, f < g).

Смотри пример 3.

# Формат данных
### Входные данные
Список коридоров в формате узел1-узел2, по одному на строку:

```
 a-b
 a-c
 b-D
 c-D
```

### Гарантии: Входные данные во всех тестах подобраны таким образом, что гарантировано существование последовательности закрытия шлюзов, при которой вирус не достигнет ни одного шлюза.

### Выходные данные
Последовательность отключаемых коридоров в формате Шлюз-узел (**слева всегда шлюз, справа узел от которого он отключается), по одному на строку:

```
 D-b
 D-c
```

# Примеры
## Пример 1: Простая ромбовидная сеть
### Входные данные:

```
 a-b
 a-c
 b-D
 c-D
```

### Топология:

```
    a (вирус)
   / \
  b   c
   \ /
    D (шлюз)
```

### Анализ:

* Из a два пути длины 2: a→b→D и a→c→D
* После отключения D-b остаётся только путь через c
* Вирус перемещается в c
* На втором шаге мы отключем D-c
* Для вируса не остается путей ни до одного шлюза
### Пошаговое решение:

<table>
  <tr>
    <th>ХОД</th><th>ПОЗИЦИЯ ВИРУСА</th><th>ДЕЙСТВИЕ</th><th>ПУТЬ ВИРУСА</th><th>ВИРУС →</th>
  </tr>
  <tr>
    <td>1</td><td>a</td><td>D→b</td><td>a→c→D</td><td>c</td>
  </tr>
  <tr>
    <td>2</td><td>c</td><td>D→c</td><td>нет путей</td><td>—</td>
  </tr>
</table>

### Выходные данные:

```
 D-b
 D-c
```

## Пример 2: Линейная сеть с тремя шлюзами
### Входные данные:

```
 a-b
 b-c
 c-d
 b-A
 c-B
 d-C
```

### Топология:

```
a---b---c---d
    |   |   |
    A   B   C
```

### Анализ:

* Кратчайшие расстояния: A: 2, B: 3, C: 4
* Вирус последовательно движется к каждому ближайшему шлюзу
* Отключаем шлюзы в порядке приближения вируса
### Пошаговое решение:

<table>
  <tr>
    <th>ХОД</th>
    <th>ПОЗИЦИЯ</th>
    <th>ДЕЙСТВИЕ</th>
    <th>ПУТЬ ВИРУСА</th>
    <th>ВИРУС →</th>
  </tr>
  <tr>
    <td>1</td>
    <td>a</td>
    <td>A→b</td>
    <td>a→b→c→B</td>
    <td>b</td>
  </tr>
  <tr>
    <td>2</td>
    <td>b</td>
    <td>B→c</td>
    <td>b→c→d→C</td>
    <td>c</td>
  </tr>
  <tr>
    <td>3</td>
    <td>c</td>
    <td>C→d</td>
    <td>нет путей</td>
    <td>–</td>
  </tr>
</table>

### Выходные данные:

```
 A-b
 B-c
 C-d
```
## Пример 3: Сеть с множественными решениями (применяем правило детерменированности ответа)
Входные данные:

```
 a-b
 b-c
 c-d
 c-e
 A-d
 A-e
 c-f
 c-g
 f-B
 g-B
```
### Топология:

            A (шлюз)
           / \
          d   e
           \ /
    a---b---c
           / \
          f   g
           \ /
            B (шлюз)
### Анализ:

* Из a расстояния: A: 4 (через d или e), B: 4 (через f или g)
* Из всех вариантов отключения (A-d, A-e, B-f, B-g, каждый приводит к правильному ответу.
* Вирус движется: a → b → c
* За 2 шага можно отключить один из шлюзов полностью (A-d, A-e), выбираем лексикографический порядок из всех правильных вариантов.
* За оставшиеся 2 шага отключается второй шлюз (B-f, B-g)
### Пошаговое решение:

<table>
  <tr>
    <th>ХОД</th>
    <th>ПОЗИЦИЯ</th>
    <th>ДЕЙСТВИЕ</th>
    <th>ПУТЬ ВИРУСА</th>
    <th>ВИРУС →</th>
  </tr>
  <tr>
    <td>1</td>
    <td>a</td>
    <td>A→d</td>
    <td>a→b→c→e→A</td>
    <td>b</td>
  </tr>
  <tr>
    <td>2</td>
    <td>b</td>
    <td>A→e</td>
    <td>b→c→f→B</td>
    <td>c</td>
  </tr>
  <tr>
    <td>3</td>
    <td>c</td>
    <td>B→f</td>
    <td>c→g→B</td>
    <td>g</td>
  </tr>
  <tr>
    <td>4</td>
    <td>g</td>
    <td>B→g</td>
    <td>нет путей</td>
    <td>—</td>
  </tr>
</table>

Любой порядок отключения шлюзов приводит к тому, что вирус не достигнет цели.

Правильным ответом в таких случаях считается первый вариант в лексикографическом порядке.

### Выходные данные:

 A-d
 A-e
 B-f
 B-g
# Технические требования
### Ограничения:

* Количество узлов: до 20
* Количество коридоров: до 100
* Время выполнения: до 5 секунд
